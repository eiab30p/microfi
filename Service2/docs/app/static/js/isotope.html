<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>isotope.js</title>
  <link rel="stylesheet" href="..\..\..\pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>isotope.js</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <p><em>
 * Isotope v1.5.21
 * An exquisite jQuery plugin for magical layouts
 * http://isotope.metafizzy.co
 </em>
 * Commercial use requires one-time license fee
 * http://metafizzy.co/#licenses
 *
 * Copyright 2012 David DeSandro / Metafizzy</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span> <span class="o">*</span><span class="err">/</span>
<span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="s2">&quot;use strict&quot;</span><span class="p">;</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nb">document</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">Modernizr</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">toUpperCase</span><span class="p">()</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)},</span><span class="nx">g</span><span class="o">=</span><span class="s2">&quot;Moz Webkit O Ms&quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">c</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">;</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">g</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">h</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="nx">c</span><span class="o">=</span><span class="nx">g</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">+</span><span class="nx">a</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">b</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">)</span><span class="k">return</span> <span class="nx">c</span><span class="p">}},</span><span class="nx">i</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="s2">&quot;transform&quot;</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="s2">&quot;transitionProperty&quot;</span><span class="p">),</span><span class="nx">k</span><span class="o">=</span><span class="p">{</span><span class="nx">csstransforms</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!!</span><span class="nx">i</span><span class="p">},</span><span class="nx">csstransforms3d</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=!!</span><span class="nx">h</span><span class="p">(</span><span class="s2">&quot;perspective&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="s2">&quot; -o- -moz- -ms- -webkit- -khtml- &quot;</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="s2">&quot;@media (&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">&quot;transform-3d),(&quot;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;modernizr)&quot;</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="s2">&quot;&lt;style&gt;&quot;</span><span class="o">+</span><span class="nx">d</span><span class="o">+</span><span class="s2">&quot;{#modernizr{height:3px}}&quot;</span><span class="o">+</span><span class="s2">&quot;&lt;/style&gt;&quot;</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s2">&quot;head&quot;</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="s1">&#39;&lt;div id=&quot;modernizr&quot; /&gt;&#39;</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="s2">&quot;html&quot;</span><span class="p">);</span><span class="nx">a</span><span class="o">=</span><span class="nx">f</span><span class="p">.</span><span class="nx">height</span><span class="p">()</span><span class="o">===</span><span class="mi">3</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="nx">e</span><span class="p">.</span><span class="nx">remove</span><span class="p">()}</span><span class="k">return</span> <span class="nx">a</span><span class="p">},</span><span class="nx">csstransitions</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!!</span><span class="nx">j</span><span class="p">}},</span><span class="nx">l</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span> <span class="k">in</span> <span class="nx">k</span><span class="p">)</span><span class="nx">e</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span><span class="o">||</span><span class="nx">e</span><span class="p">.</span><span class="nx">addTest</span><span class="p">(</span><span class="nx">l</span><span class="p">,</span><span class="nx">k</span><span class="p">[</span><span class="nx">l</span><span class="p">]);</span><span class="k">else</span><span class="p">{</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">Modernizr</span><span class="o">=</span><span class="p">{</span><span class="nx">_version</span><span class="o">:</span><span class="s2">&quot;1.6ish: miniModernizr for Isotope&quot;</span><span class="p">};</span><span class="kd">var</span> <span class="nx">m</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">,</span><span class="nx">n</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">l</span> <span class="k">in</span> <span class="nx">k</span><span class="p">)</span><span class="nx">n</span><span class="o">=</span><span class="nx">k</span><span class="p">[</span><span class="nx">l</span><span class="p">](),</span><span class="nx">e</span><span class="p">[</span><span class="nx">l</span><span class="p">]</span><span class="o">=</span><span class="nx">n</span><span class="p">,</span><span class="nx">m</span><span class="o">+=</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="p">(</span><span class="nx">n</span><span class="o">?</span><span class="s2">&quot;&quot;</span><span class="o">:</span><span class="s2">&quot;no-&quot;</span><span class="p">)</span><span class="o">+</span><span class="nx">l</span><span class="p">;</span><span class="nx">b</span><span class="p">(</span><span class="s2">&quot;html&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">m</span><span class="p">)}</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">csstransforms</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">csstransforms3d</span><span class="o">?</span><span class="p">{</span><span class="nx">translate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;translate3d(&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;px, &quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;px, 0) &quot;</span><span class="p">},</span><span class="nx">scale</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;scale3d(&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;, &quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;, 1) &quot;</span><span class="p">}}</span><span class="o">:</span><span class="p">{</span><span class="nx">translate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;translate(&quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;px, &quot;</span><span class="o">+</span><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot;px) &quot;</span><span class="p">},</span><span class="nx">scale</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span><span class="s2">&quot;scale(&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;) &quot;</span><span class="p">}},</span><span class="nx">p</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;isoTransform&quot;</span><span class="p">)</span><span class="o">||</span><span class="p">{},</span><span class="nx">f</span><span class="o">=</span><span class="p">{},</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="p">{},</span><span class="nx">j</span><span class="p">;</span><span class="nx">f</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="nx">g</span> <span class="k">in</span> <span class="nx">e</span><span class="p">)</span><span class="nx">j</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">g</span><span class="p">],</span><span class="nx">h</span><span class="p">[</span><span class="nx">g</span><span class="p">]</span><span class="o">=</span><span class="nx">o</span><span class="p">[</span><span class="nx">g</span><span class="p">](</span><span class="nx">j</span><span class="p">);</span><span class="kd">var</span> <span class="nx">k</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">translate</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">l</span><span class="o">=</span><span class="nx">h</span><span class="p">.</span><span class="nx">scale</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="nx">k</span><span class="o">+</span><span class="nx">l</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;isoTransform&quot;</span><span class="p">,</span><span class="nx">e</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">style</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nx">m</span><span class="p">};</span><span class="nx">b</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">.</span><span class="nx">scale</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="p">{</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">p</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;scale&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;isoTransform&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">scale</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">scale</span><span class="o">:</span><span class="mi">1</span><span class="p">}},</span><span class="nx">b</span><span class="p">.</span><span class="nx">fx</span><span class="p">.</span><span class="nx">step</span><span class="p">.</span><span class="nx">scale</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">.</span><span class="nx">scale</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">elem</span><span class="p">,</span><span class="nx">a</span><span class="p">.</span><span class="nx">now</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">unit</span><span class="p">)},</span><span class="nx">b</span><span class="p">.</span><span class="nx">cssNumber</span><span class="p">.</span><span class="nx">translate</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">cssHooks</span><span class="p">.</span><span class="nx">translate</span><span class="o">=</span><span class="p">{</span><span class="nx">set</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">p</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;translate&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="nx">get</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;isoTransform&quot;</span><span class="p">);</span><span class="k">return</span> <span class="nx">d</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="p">.</span><span class="nx">translate</span><span class="o">?</span><span class="nx">d</span><span class="p">.</span><span class="nx">translate</span><span class="o">:</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]}}}</span><span class="kd">var</span> <span class="nx">q</span><span class="p">,</span><span class="nx">r</span><span class="p">;</span><span class="nx">e</span><span class="p">.</span><span class="nx">csstransitions</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">q</span><span class="o">=</span><span class="p">{</span><span class="nx">WebkitTransitionProperty</span><span class="o">:</span><span class="s2">&quot;webkitTransitionEnd&quot;</span><span class="p">,</span><span class="nx">MozTransitionProperty</span><span class="o">:</span><span class="s2">&quot;transitionend&quot;</span><span class="p">,</span><span class="nx">OTransitionProperty</span><span class="o">:</span><span class="s2">&quot;oTransitionEnd otransitionend&quot;</span><span class="p">,</span><span class="nx">transitionProperty</span><span class="o">:</span><span class="s2">&quot;transitionend&quot;</span><span class="p">}[</span><span class="nx">j</span><span class="p">],</span><span class="nx">r</span><span class="o">=</span><span class="nx">h</span><span class="p">(</span><span class="s2">&quot;transitionDuration&quot;</span><span class="p">));</span><span class="kd">var</span> <span class="nx">s</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">event</span><span class="p">,</span><span class="nx">t</span><span class="p">;</span><span class="nx">s</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">smartresize</span><span class="o">=</span><span class="p">{</span><span class="nx">setup</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;resize&quot;</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">smartresize</span><span class="p">.</span><span class="nx">handler</span><span class="p">)},</span><span class="nx">teardown</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;resize&quot;</span><span class="p">,</span><span class="nx">s</span><span class="p">.</span><span class="nx">special</span><span class="p">.</span><span class="nx">smartresize</span><span class="p">.</span><span class="nx">handler</span><span class="p">)},</span><span class="nx">handler</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">arguments</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;smartresize&quot;</span><span class="p">,</span><span class="nx">t</span><span class="o">&amp;&amp;</span><span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">t</span><span class="p">),</span><span class="nx">t</span><span class="o">=</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">jQuery</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">handle</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)},</span><span class="nx">b</span><span class="o">===</span><span class="s2">&quot;execAsap&quot;</span><span class="o">?</span><span class="mi">0</span><span class="o">:</span><span class="mi">100</span><span class="p">)}},</span><span class="nx">b</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">smartresize</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">return</span> <span class="nx">a</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;smartresize&quot;</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">trigger</span><span class="p">(</span><span class="s2">&quot;smartresize&quot;</span><span class="p">,[</span><span class="s2">&quot;execAsap&quot;</span><span class="p">])},</span><span class="nx">b</span><span class="p">.</span><span class="nx">Isotope</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_create</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_init</span><span class="p">(</span><span class="nx">d</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="s2">&quot;height&quot;</span><span class="p">],</span><span class="nx">v</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">Isotope</span><span class="p">.</span><span class="nx">settings</span><span class="o">=</span><span class="p">{</span><span class="nx">resizable</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">layoutMode</span><span class="o">:</span><span class="s2">&quot;masonry&quot;</span><span class="p">,</span><span class="nx">containerClass</span><span class="o">:</span><span class="s2">&quot;isotope&quot;</span><span class="p">,</span><span class="nx">itemClass</span><span class="o">:</span><span class="s2">&quot;isotope-item&quot;</span><span class="p">,</span><span class="nx">hiddenClass</span><span class="o">:</span><span class="s2">&quot;isotope-hidden&quot;</span><span class="p">,</span><span class="nx">hiddenStyle</span><span class="o">:</span><span class="p">{</span><span class="nx">opacity</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">scale</span><span class="o">:</span><span class="mf">.001</span><span class="p">},</span><span class="nx">visibleStyle</span><span class="o">:</span><span class="p">{</span><span class="nx">opacity</span><span class="o">:</span><span class="mi">1</span><span class="p">,</span><span class="nx">scale</span><span class="o">:</span><span class="mi">1</span><span class="p">},</span><span class="nx">containerStyle</span><span class="o">:</span><span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="s2">&quot;relative&quot;</span><span class="p">,</span><span class="nx">overflow</span><span class="o">:</span><span class="s2">&quot;hidden&quot;</span><span class="p">},</span><span class="nx">animationEngine</span><span class="o">:</span><span class="s2">&quot;best-available&quot;</span><span class="p">,</span><span class="nx">animationOptions</span><span class="o">:</span><span class="p">{</span><span class="nx">queue</span><span class="o">:!</span><span class="mi">1</span><span class="p">,</span><span class="nx">duration</span><span class="o">:</span><span class="mi">800</span><span class="p">},</span><span class="nx">sortBy</span><span class="o">:</span><span class="s2">&quot;original-order&quot;</span><span class="p">,</span><span class="nx">sortAscending</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">resizesContainer</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">transformsEnabled</span><span class="o">:!</span><span class="mi">0</span><span class="p">,</span><span class="nx">itemPositionDataEnabled</span><span class="o">:!</span><span class="mi">1</span><span class="p">},</span><span class="nx">b</span><span class="p">.</span><span class="nx">Isotope</span><span class="p">.</span><span class="nx">prototype</span><span class="o">=</span><span class="p">{</span><span class="nx">_create</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">({},</span><span class="nx">b</span><span class="p">.</span><span class="nx">Isotope</span><span class="p">.</span><span class="nx">settings</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="o">=</span><span class="p">[],</span><span class="k">this</span><span class="p">.</span><span class="nx">elemCount</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">originalStyle</span><span class="o">=</span><span class="p">{};</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">u</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">containerStyle</span><span class="p">)</span><span class="nx">d</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">e</span><span class="p">);</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">g</span><span class="p">;</span><span class="nx">f</span><span class="o">++</span><span class="p">)</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">[</span><span class="nx">f</span><span class="p">],</span><span class="k">this</span><span class="p">.</span><span class="nx">originalStyle</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">c</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">||</span><span class="s2">&quot;&quot;</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">containerStyle</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_updateAnimationEngine</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">_updateUsingTransforms</span><span class="p">();</span><span class="kd">var</span> <span class="nx">h</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;original-order&quot;</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">elemCount</span><span class="o">++</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">elemCount</span><span class="p">},</span><span class="nx">random</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()}};</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">getSortData</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">getSortData</span><span class="p">,</span><span class="nx">h</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">reloadItems</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="o">=</span><span class="p">{</span><span class="nx">left</span><span class="o">:</span><span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;padding-left&quot;</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="nx">top</span><span class="o">:</span><span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="s2">&quot;padding-top&quot;</span><span class="p">)</span><span class="o">||</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">)};</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">containerClass</span><span class="p">)},</span><span class="mi">0</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">resizable</span><span class="o">&amp;&amp;</span><span class="nx">v</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;smartresize.isotope&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">i</span><span class="p">.</span><span class="nx">resize</span><span class="p">()}),</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">delegate</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hiddenClass</span><span class="p">,</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">1</span><span class="p">})},</span><span class="nx">_getAtoms</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">itemSelector</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="o">?</span><span class="nx">a</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">b</span><span class="p">))</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="p">{</span><span class="nx">position</span><span class="o">:</span><span class="s2">&quot;absolute&quot;</span><span class="p">};</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">usingTransforms</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">css</span><span class="p">(</span><span class="nx">d</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">itemClass</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">updateSortData</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">c</span><span class="p">},</span><span class="nx">_init</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_filter</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_sort</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">reLayout</span><span class="p">(</span><span class="nx">a</span><span class="p">)},</span><span class="nx">option</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">isPlainObject</span><span class="p">(</span><span class="nx">a</span><span class="p">)){</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">extend</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span> <span class="k">in</span> <span class="nx">a</span><span class="p">)</span><span class="nx">c</span><span class="o">=</span><span class="s2">&quot;_update&quot;</span><span class="o">+</span><span class="nx">f</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">[</span><span class="nx">c</span><span class="p">]()}},</span><span class="nx">_updateAnimationEngine</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">animationEngine</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/[ _\-]/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span><span class="nx">b</span><span class="p">;</span><span class="k">switch</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">case</span><span class="s2">&quot;css&quot;</span><span class="o">:</span><span class="k">case</span><span class="s2">&quot;none&quot;</span><span class="o">:</span><span class="nx">b</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">case</span><span class="s2">&quot;jquery&quot;</span><span class="o">:</span><span class="nx">b</span><span class="o">=!</span><span class="mi">0</span><span class="p">;</span><span class="k">break</span><span class="p">;</span><span class="k">default</span><span class="o">:</span><span class="nx">b</span><span class="o">=!</span><span class="nx">e</span><span class="p">.</span><span class="nx">csstransitions</span><span class="p">}</span><span class="k">this</span><span class="p">.</span><span class="nx">isUsingJQueryAnimation</span><span class="o">=</span><span class="nx">b</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_updateUsingTransforms</span><span class="p">()},</span><span class="nx">_updateTransformsEnabled</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">_updateUsingTransforms</span><span class="p">()},</span><span class="nx">_updateUsingTransforms</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">usingTransforms</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">transformsEnabled</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">csstransforms</span><span class="o">&amp;&amp;</span><span class="nx">e</span><span class="p">.</span><span class="nx">csstransitions</span><span class="o">&amp;&amp;!</span><span class="k">this</span><span class="p">.</span><span class="nx">isUsingJQueryAnimation</span><span class="p">;</span><span class="nx">a</span><span class="o">||</span><span class="p">(</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hiddenStyle</span><span class="p">.</span><span class="nx">scale</span><span class="p">,</span><span class="k">delete</span> <span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">visibleStyle</span><span class="p">.</span><span class="nx">scale</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">getPositionStyles</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">_translate</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">_positionAbs</span><span class="p">},</span><span class="nx">_filter</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">filter</span><span class="o">===</span><span class="s2">&quot;&quot;</span><span class="o">?</span><span class="s2">&quot;*&quot;</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">filter</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">)</span><span class="k">return</span> <span class="nx">a</span><span class="p">;</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hiddenClass</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="nx">c</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="o">!==</span><span class="s2">&quot;*&quot;</span><span class="p">){</span><span class="nx">f</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">);</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">d</span><span class="p">).</span><span class="nx">not</span><span class="p">(</span><span class="nx">b</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">c</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">$el</span><span class="o">:</span><span class="nx">g</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hiddenStyle</span><span class="p">})}</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">$el</span><span class="o">:</span><span class="nx">f</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">visibleStyle</span><span class="p">}),</span><span class="nx">f</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">b</span><span class="p">)},</span><span class="nx">updateSortData</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">getSortData</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="p">{};</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">a</span> <span class="k">in</span> <span class="nx">e</span><span class="p">)</span><span class="o">!</span><span class="nx">c</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">===</span><span class="s2">&quot;original-order&quot;</span><span class="o">?</span><span class="nx">g</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;isotope-sort-data&quot;</span><span class="p">)[</span><span class="nx">a</span><span class="p">]</span><span class="o">:</span><span class="nx">g</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span><span class="o">=</span><span class="nx">e</span><span class="p">[</span><span class="nx">a</span><span class="p">](</span><span class="nx">f</span><span class="p">,</span><span class="nx">d</span><span class="p">);</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;isotope-sort-data&quot;</span><span class="p">,</span><span class="nx">g</span><span class="p">)})},</span><span class="nx">_sort</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sortBy</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_getSorter</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sortAscending</span><span class="o">?</span><span class="mi">1</span><span class="o">:-</span><span class="mi">1</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">){</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">a</span><span class="p">);</span><span class="k">return</span> <span class="nx">f</span><span class="o">===</span><span class="nx">g</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="o">!==</span><span class="s2">&quot;original-order&quot;</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="s2">&quot;original-order&quot;</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="s2">&quot;original-order&quot;</span><span class="p">)),(</span><span class="nx">f</span><span class="o">&gt;</span><span class="nx">g</span><span class="o">?</span><span class="mi">1</span><span class="o">:</span><span class="nx">f</span><span class="o">&lt;</span><span class="nx">g</span><span class="o">?-</span><span class="mi">1</span><span class="o">:</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="nx">c</span><span class="p">};</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="p">.</span><span class="nx">sort</span><span class="p">(</span><span class="nx">d</span><span class="p">)},</span><span class="nx">_getSorter</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">return</span> <span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="s2">&quot;isotope-sort-data&quot;</span><span class="p">)[</span><span class="nx">c</span><span class="p">]},</span><span class="nx">_translate</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">translate</span><span class="o">:</span><span class="p">[</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">]}},</span><span class="nx">_positionAbs</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">return</span><span class="p">{</span><span class="nx">left</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">top</span><span class="o">:</span><span class="nx">b</span><span class="p">}},</span><span class="nx">_pushPosition</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="nx">b</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">b</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">left</span><span class="p">),</span><span class="nx">c</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">c</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">top</span><span class="p">);</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">getPositionStyles</span><span class="p">(</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">$el</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="nx">d</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">itemPositionDataEnabled</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">&quot;isotope-item-position&quot;</span><span class="p">,{</span><span class="nx">x</span><span class="o">:</span><span class="nx">b</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="nx">c</span><span class="p">})},</span><span class="nx">layout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">layoutMode</span><span class="p">;</span><span class="k">this</span><span class="p">[</span><span class="s2">&quot;_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s2">&quot;Layout&quot;</span><span class="p">](</span><span class="nx">a</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">resizesContainer</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="s2">&quot;_&quot;</span><span class="o">+</span><span class="nx">c</span><span class="o">+</span><span class="s2">&quot;GetContainerSize&quot;</span><span class="p">]();</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">$el</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="nx">d</span><span class="p">})}</span><span class="k">this</span><span class="p">.</span><span class="nx">_processStyleQueue</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">isLaidOut</span><span class="o">=!</span><span class="mi">0</span><span class="p">},</span><span class="nx">_processStyleQueue</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">isLaidOut</span><span class="o">?</span><span class="k">this</span><span class="p">.</span><span class="nx">isUsingJQueryAnimation</span><span class="o">?</span><span class="s2">&quot;animate&quot;</span><span class="o">:</span><span class="s2">&quot;css&quot;</span><span class="o">:</span><span class="s2">&quot;css&quot;</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">animationOptions</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">onLayout</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span><span class="p">;</span><span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">$el</span><span class="p">[</span><span class="nx">d</span><span class="p">](</span><span class="nx">b</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">f</span><span class="p">)};</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_isInserting</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">isUsingJQueryAnimation</span><span class="p">)</span><span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">h</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">$el</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s2">&quot;no-transition&quot;</span><span class="p">)</span><span class="o">?</span><span class="s2">&quot;css&quot;</span><span class="o">:</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">$el</span><span class="p">[</span><span class="nx">h</span><span class="p">](</span><span class="nx">b</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">f</span><span class="p">)};</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">c</span><span class="o">||</span><span class="nx">g</span><span class="o">||</span><span class="nx">f</span><span class="p">.</span><span class="nx">complete</span><span class="p">){</span><span class="kd">var</span> <span class="nx">l</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">m</span><span class="o">=</span><span class="p">[</span><span class="nx">c</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">f</span><span class="p">.</span><span class="nx">complete</span><span class="p">],</span><span class="nx">n</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">j</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="nx">k</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="kd">var</span> <span class="nx">b</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">m</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">c</span><span class="o">&lt;</span><span class="nx">d</span><span class="p">;</span><span class="nx">c</span><span class="o">++</span><span class="p">)</span><span class="nx">b</span><span class="o">=</span><span class="nx">m</span><span class="p">[</span><span class="nx">c</span><span class="p">],</span><span class="k">typeof</span> <span class="nx">b</span><span class="o">==</span><span class="s2">&quot;function&quot;</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">element</span><span class="p">,</span><span class="nx">a</span><span class="p">,</span><span class="nx">n</span><span class="p">);</span><span class="nx">l</span><span class="o">=!</span><span class="mi">0</span><span class="p">};</span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isUsingJQueryAnimation</span><span class="o">&amp;&amp;</span><span class="nx">d</span><span class="o">===</span><span class="s2">&quot;animate&quot;</span><span class="p">)</span><span class="nx">f</span><span class="p">.</span><span class="nx">complete</span><span class="o">=</span><span class="nx">k</span><span class="p">,</span><span class="nx">j</span><span class="o">=!</span><span class="mi">1</span><span class="p">;</span><span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">csstransitions</span><span class="p">){</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">p</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="nx">s</span><span class="o">=</span><span class="nx">p</span><span class="o">&amp;&amp;</span><span class="nx">p</span><span class="p">.</span><span class="nx">$el</span><span class="p">,</span><span class="nx">t</span><span class="p">;</span><span class="k">while</span><span class="p">(</span><span class="o">!</span><span class="nx">s</span><span class="o">||!</span><span class="nx">s</span><span class="p">.</span><span class="nx">length</span><span class="p">){</span><span class="nx">t</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">[</span><span class="nx">o</span><span class="o">++</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">t</span><span class="p">)</span><span class="k">return</span><span class="p">;</span><span class="nx">s</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">$el</span><span class="p">}</span><span class="kd">var</span> <span class="nx">u</span><span class="o">=</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">getComputedStyle</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])[</span><span class="nx">r</span><span class="p">]);</span><span class="nx">u</span><span class="o">&gt;</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="nx">b</span><span class="p">.</span><span class="nx">$el</span><span class="p">[</span><span class="nx">d</span><span class="p">](</span><span class="nx">b</span><span class="p">.</span><span class="nx">style</span><span class="p">,</span><span class="nx">f</span><span class="p">).</span><span class="nx">one</span><span class="p">(</span><span class="nx">q</span><span class="p">,</span><span class="nx">k</span><span class="p">)},</span><span class="nx">j</span><span class="o">=!</span><span class="mi">1</span><span class="p">)}}</span><span class="nx">b</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">,</span><span class="nx">i</span><span class="p">),</span><span class="nx">j</span><span class="o">&amp;&amp;</span><span class="nx">k</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="o">=</span><span class="p">[]},</span><span class="nx">resize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">[</span><span class="s2">&quot;_&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">layoutMode</span><span class="o">+</span><span class="s2">&quot;ResizeChanged&quot;</span><span class="p">]()</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">reLayout</span><span class="p">()},</span><span class="nx">reLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">[</span><span class="s2">&quot;_&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">layoutMode</span><span class="o">+</span><span class="s2">&quot;Reset&quot;</span><span class="p">](),</span><span class="k">this</span><span class="p">.</span><span class="nx">layout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="p">,</span><span class="nx">a</span><span class="p">)},</span><span class="nx">addItems</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_getAtoms</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">(</span><span class="nx">c</span><span class="p">)},</span><span class="nx">insert</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">addItems</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">_filter</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">_addHideAppended</span><span class="p">(</span><span class="nx">d</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_sort</span><span class="p">(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">reLayout</span><span class="p">(),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_revealAppended</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">b</span><span class="p">)})},</span><span class="nx">appended</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">addItems</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="nx">c</span><span class="p">.</span><span class="nx">_addHideAppended</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">layout</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_revealAppended</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)})},</span><span class="nx">_addHideAppended</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">a</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s2">&quot;no-transition&quot;</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">_isInserting</span><span class="o">=!</span><span class="mi">0</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">$el</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hiddenStyle</span><span class="p">})},</span><span class="nx">_revealAppended</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s2">&quot;no-transition&quot;</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">$el</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="nx">c</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">visibleStyle</span><span class="p">}),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_isInserting</span><span class="o">=!</span><span class="mi">1</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">_processStyleQueue</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">)},</span><span class="mi">10</span><span class="p">)},</span><span class="nx">reloadItems</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">_getAtoms</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">children</span><span class="p">())},</span><span class="nx">remove</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="p">.</span><span class="nx">not</span><span class="p">(</span><span class="nx">a</span><span class="p">);</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">remove</span><span class="p">(),</span><span class="nx">b</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">element</span><span class="p">)};</span><span class="nx">a</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;:not(.&quot;</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hiddenClass</span><span class="o">+</span><span class="s2">&quot;)&quot;</span><span class="p">).</span><span class="nx">length</span><span class="o">?</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">styleQueue</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="nx">$el</span><span class="o">:</span><span class="nx">a</span><span class="p">,</span><span class="nx">style</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">hiddenStyle</span><span class="p">}),</span><span class="k">this</span><span class="p">.</span><span class="nx">_sort</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">reLayout</span><span class="p">(</span><span class="nx">d</span><span class="p">))</span><span class="o">:</span><span class="nx">d</span><span class="p">()},</span><span class="nx">shuffle</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="k">this</span><span class="p">.</span><span class="nx">updateSortData</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="p">),</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">sortBy</span><span class="o">=</span><span class="s2">&quot;random&quot;</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">_sort</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">reLayout</span><span class="p">(</span><span class="nx">a</span><span class="p">)},</span><span class="nx">destroy</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">usingTransforms</span><span class="p">,</span><span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">$allAtoms</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">hiddenClass</span><span class="o">+</span><span class="s2">&quot; &quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">itemClass</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">style</span><span class="p">;</span><span class="nx">b</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">top</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">left</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">b</span><span class="p">.</span><span class="nx">opacity</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="nx">a</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)});</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">style</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">d</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">originalStyle</span><span class="p">)</span><span class="nx">c</span><span class="p">[</span><span class="nx">d</span><span class="p">]</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">originalStyle</span><span class="p">[</span><span class="nx">d</span><span class="p">];</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;.isotope&quot;</span><span class="p">).</span><span class="nx">undelegate</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="o">+</span><span class="nx">b</span><span class="p">.</span><span class="nx">hiddenClass</span><span class="p">,</span><span class="s2">&quot;click&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">b</span><span class="p">.</span><span class="nx">containerClass</span><span class="p">).</span><span class="nx">removeData</span><span class="p">(</span><span class="s2">&quot;isotope&quot;</span><span class="p">),</span><span class="nx">v</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;.isotope&quot;</span><span class="p">)},</span><span class="nx">_getSegments</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">layoutMode</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="s2">&quot;rowHeight&quot;</span><span class="o">:</span><span class="s2">&quot;columnWidth&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="s2">&quot;height&quot;</span><span class="o">:</span><span class="s2">&quot;width&quot;</span><span class="p">,</span><span class="nx">e</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="s2">&quot;rows&quot;</span><span class="o">:</span><span class="s2">&quot;cols&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">[</span><span class="nx">d</span><span class="p">](),</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span><span class="o">&amp;&amp;</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">c</span><span class="p">]</span><span class="o">||</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="p">[</span><span class="s2">&quot;outer&quot;</span><span class="o">+</span><span class="nx">f</span><span class="p">(</span><span class="nx">d</span><span class="p">)](</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">||</span><span class="nx">g</span><span class="p">;</span><span class="nx">h</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">g</span><span class="o">/</span><span class="nx">i</span><span class="p">),</span><span class="nx">h</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">h</span><span class="p">,</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">c</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">},</span><span class="nx">_checkIfSegmentsChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">b</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">layoutMode</span><span class="p">,</span><span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="o">?</span><span class="s2">&quot;rows&quot;</span><span class="o">:</span><span class="s2">&quot;cols&quot;</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">c</span><span class="p">];</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getSegments</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="k">this</span><span class="p">[</span><span class="nx">b</span><span class="p">][</span><span class="nx">c</span><span class="p">]</span><span class="o">!==</span><span class="nx">d</span><span class="p">},</span><span class="nx">_masonryReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">_getSegments</span><span class="p">();</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="p">.</span><span class="nx">cols</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="p">.</span><span class="nx">colYs</span><span class="o">=</span><span class="p">[];</span><span class="k">while</span><span class="p">(</span><span class="nx">a</span><span class="o">--</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="p">.</span><span class="nx">colYs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">0</span><span class="p">)},</span><span class="nx">_masonryLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">masonry</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="nx">d</span><span class="p">.</span><span class="nx">columnWidth</span><span class="p">);</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">cols</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="mi">1</span><span class="p">)</span><span class="nx">c</span><span class="p">.</span><span class="nx">_masonryPlaceBrick</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">colYs</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">cols</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[],</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">colYs</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">g</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span><span class="nx">h</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">_masonryPlaceBrick</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">)}})},</span><span class="nx">_masonryPlaceBrick</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">===</span><span class="nx">c</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="p">.</span><span class="nx">columnWidth</span><span class="o">*</span><span class="nx">d</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="nx">c</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">c</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="p">.</span><span class="nx">cols</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="nx">f</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">j</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="p">.</span><span class="nx">colYs</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">},</span><span class="nx">_masonryGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">masonry</span><span class="p">.</span><span class="nx">colYs</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">height</span><span class="o">:</span><span class="nx">a</span><span class="p">}},</span><span class="nx">_masonryResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_checkIfSegmentsChanged</span><span class="p">()},</span><span class="nx">_fitRowsReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">fitRows</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">height</span><span class="o">:</span><span class="mi">0</span><span class="p">}},</span><span class="nx">_fitRowsLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">width</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">fitRows</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">!==</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">f</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">&gt;</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">+</span><span class="nx">g</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">height</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">+=</span><span class="nx">f</span><span class="p">})},</span><span class="nx">_fitRowsGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="nx">height</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">fitRows</span><span class="p">.</span><span class="nx">height</span><span class="p">}},</span><span class="nx">_fitRowsResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">},</span><span class="nx">_cellsByRowReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByRow</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">_getSegments</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">_getSegments</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">_cellsByRowLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByRow</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">index</span><span class="o">%</span><span class="nx">d</span><span class="p">.</span><span class="nx">cols</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">index</span><span class="o">/</span><span class="nx">d</span><span class="p">.</span><span class="nx">cols</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="mf">.5</span><span class="p">)</span><span class="o">*</span><span class="nx">d</span><span class="p">.</span><span class="nx">columnWidth</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="p">(</span><span class="nx">f</span><span class="o">+</span><span class="mf">.5</span><span class="p">)</span><span class="o">*</span><span class="nx">d</span><span class="p">.</span><span class="nx">rowHeight</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">index</span><span class="o">++</span><span class="p">})},</span><span class="nx">_cellsByRowGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="nx">height</span><span class="o">:</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="p">.</span><span class="nx">length</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByRow</span><span class="p">.</span><span class="nx">cols</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByRow</span><span class="p">.</span><span class="nx">rowHeight</span><span class="o">+</span><span class="k">this</span><span class="p">.</span><span class="nx">offset</span><span class="p">.</span><span class="nx">top</span><span class="p">}},</span><span class="nx">_cellsByRowResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_checkIfSegmentsChanged</span><span class="p">()},</span><span class="nx">_straightDownReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">straightDown</span><span class="o">=</span><span class="p">{</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">}},</span><span class="nx">_straightDownLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">straightDown</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">straightDown</span><span class="p">.</span><span class="nx">y</span><span class="o">+=</span><span class="nx">d</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)})},</span><span class="nx">_straightDownGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="nx">height</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">straightDown</span><span class="p">.</span><span class="nx">y</span><span class="p">}},</span><span class="nx">_straightDownResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">},</span><span class="nx">_masonryHorizontalReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="o">=</span><span class="p">{},</span><span class="k">this</span><span class="p">.</span><span class="nx">_getSegments</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">.</span><span class="nx">rows</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">.</span><span class="nx">rowXs</span><span class="o">=</span><span class="p">[];</span><span class="k">while</span><span class="p">(</span><span class="nx">a</span><span class="o">--</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">.</span><span class="nx">rowXs</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">0</span><span class="p">)},</span><span class="nx">_masonryHorizontalLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="nx">d</span><span class="p">.</span><span class="nx">rowHeight</span><span class="p">);</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">e</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">rows</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="nx">e</span><span class="o">===</span><span class="mi">1</span><span class="p">)</span><span class="nx">c</span><span class="p">.</span><span class="nx">_masonryHorizontalPlaceBrick</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">d</span><span class="p">.</span><span class="nx">rowXs</span><span class="p">);</span><span class="k">else</span><span class="p">{</span><span class="kd">var</span> <span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">rows</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="nx">e</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[],</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">i</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="nx">h</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">rowXs</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="nx">i</span><span class="o">+</span><span class="nx">e</span><span class="p">),</span><span class="nx">g</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span><span class="nx">h</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">_masonryHorizontalPlaceBrick</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">)}})},</span><span class="nx">_masonryHorizontalPlaceBrick</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span><span class="nx">b</span><span class="p">),</span><span class="nx">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">f</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">e</span><span class="p">]</span><span class="o">===</span><span class="nx">c</span><span class="p">){</span><span class="nx">d</span><span class="o">=</span><span class="nx">e</span><span class="p">;</span><span class="k">break</span><span class="p">}</span><span class="kd">var</span> <span class="nx">g</span><span class="o">=</span><span class="nx">c</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">.</span><span class="nx">rowHeight</span><span class="o">*</span><span class="nx">d</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">);</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="nx">c</span><span class="o">+</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">j</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">.</span><span class="nx">rows</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span class="nx">f</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">j</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">)</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">.</span><span class="nx">rowXs</span><span class="p">[</span><span class="nx">d</span><span class="o">+</span><span class="nx">e</span><span class="p">]</span><span class="o">=</span><span class="nx">i</span><span class="p">},</span><span class="nx">_masonryHorizontalGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nb">Math</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">masonryHorizontal</span><span class="p">.</span><span class="nx">rowXs</span><span class="p">);</span><span class="k">return</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="nx">a</span><span class="p">}},</span><span class="nx">_masonryHorizontalResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_checkIfSegmentsChanged</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">_fitColumnsReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">fitColumns</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">y</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span><span class="nx">width</span><span class="o">:</span><span class="mi">0</span><span class="p">}},</span><span class="nx">_fitColumnsLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">height</span><span class="p">(),</span><span class="nx">e</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">fitColumns</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">g</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">);</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">!==</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="nx">g</span><span class="o">+</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">&gt;</span><span class="nx">d</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">=</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">x</span><span class="o">+</span><span class="nx">f</span><span class="p">,</span><span class="nx">e</span><span class="p">.</span><span class="nx">width</span><span class="p">),</span><span class="nx">e</span><span class="p">.</span><span class="nx">y</span><span class="o">+=</span><span class="nx">g</span><span class="p">})},</span><span class="nx">_fitColumnsGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">fitColumns</span><span class="p">.</span><span class="nx">width</span><span class="p">}},</span><span class="nx">_fitColumnsResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">},</span><span class="nx">_cellsByColumnReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByColumn</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="o">:</span><span class="mi">0</span><span class="p">},</span><span class="k">this</span><span class="p">.</span><span class="nx">_getSegments</span><span class="p">(),</span><span class="k">this</span><span class="p">.</span><span class="nx">_getSegments</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">_cellsByColumnLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByColumn</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">index</span><span class="o">/</span><span class="nx">d</span><span class="p">.</span><span class="nx">rows</span><span class="p">),</span><span class="nx">f</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">index</span><span class="o">%</span><span class="nx">d</span><span class="p">.</span><span class="nx">rows</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">(</span><span class="nx">e</span><span class="o">+</span><span class="mf">.5</span><span class="p">)</span><span class="o">*</span><span class="nx">d</span><span class="p">.</span><span class="nx">columnWidth</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="nx">h</span><span class="o">=</span><span class="p">(</span><span class="nx">f</span><span class="o">+</span><span class="mf">.5</span><span class="p">)</span><span class="o">*</span><span class="nx">d</span><span class="p">.</span><span class="nx">rowHeight</span><span class="o">-</span><span class="nx">a</span><span class="p">.</span><span class="nx">outerHeight</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">index</span><span class="o">++</span><span class="p">})},</span><span class="nx">_cellsByColumnGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$filteredAtoms</span><span class="p">.</span><span class="nx">length</span><span class="o">/</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByColumn</span><span class="p">.</span><span class="nx">rows</span><span class="p">)</span><span class="o">*</span><span class="k">this</span><span class="p">.</span><span class="nx">cellsByColumn</span><span class="p">.</span><span class="nx">columnWidth</span><span class="p">}},</span><span class="nx">_cellsByColumnResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_checkIfSegmentsChanged</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)},</span><span class="nx">_straightAcrossReset</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">this</span><span class="p">.</span><span class="nx">straightAcross</span><span class="o">=</span><span class="p">{</span><span class="nx">x</span><span class="o">:</span><span class="mi">0</span><span class="p">}},</span><span class="nx">_straightAcrossLayout</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">;</span><span class="nx">a</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="nx">c</span><span class="p">.</span><span class="nx">_pushPosition</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">c</span><span class="p">.</span><span class="nx">straightAcross</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span><span class="nx">c</span><span class="p">.</span><span class="nx">straightAcross</span><span class="p">.</span><span class="nx">x</span><span class="o">+=</span><span class="nx">d</span><span class="p">.</span><span class="nx">outerWidth</span><span class="p">(</span><span class="o">!</span><span class="mi">0</span><span class="p">)})},</span><span class="nx">_straightAcrossGetContainerSize</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="p">{</span><span class="nx">width</span><span class="o">:</span><span class="k">this</span><span class="p">.</span><span class="nx">straightAcross</span><span class="p">.</span><span class="nx">x</span><span class="p">}},</span><span class="nx">_straightAcrossResizeChanged</span><span class="o">:</span><span class="kd">function</span><span class="p">(){</span><span class="k">return</span><span class="o">!</span><span class="mi">0</span><span class="p">}},</span><span class="nx">b</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">imagesLoaded</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">function</span> <span class="nx">h</span><span class="p">(){</span><span class="nx">a</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)}</span><span class="kd">function</span> <span class="nx">i</span><span class="p">(</span><span class="nx">a</span><span class="p">){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">a</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span><span class="nx">c</span><span class="p">.</span><span class="nx">src</span><span class="o">!==</span><span class="nx">f</span><span class="o">&amp;&amp;</span><span class="nx">b</span><span class="p">.</span><span class="nx">inArray</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">g</span><span class="p">)</span><span class="o">===-</span><span class="mi">1</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">g</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span><span class="o">--</span><span class="nx">e</span><span class="o">&lt;=</span><span class="mi">0</span><span class="o">&amp;&amp;</span><span class="p">(</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">h</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s2">&quot;.imagesLoaded&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">)))}</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="k">this</span><span class="p">,</span><span class="nx">d</span><span class="o">=</span><span class="nx">c</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">).</span><span class="nx">add</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="s2">&quot;img&quot;</span><span class="p">)),</span><span class="nx">e</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span><span class="nx">f</span><span class="o">=</span><span class="s2">&quot;data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==&quot;</span><span class="p">,</span><span class="nx">g</span><span class="o">=</span><span class="p">[];</span><span class="k">return</span> <span class="nx">e</span><span class="o">||</span><span class="nx">h</span><span class="p">(),</span><span class="nx">d</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="s2">&quot;load.imagesLoaded error.imagesLoaded&quot;</span><span class="p">,</span><span class="nx">i</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="k">this</span><span class="p">.</span><span class="nx">src</span><span class="p">;</span><span class="k">this</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">f</span><span class="p">,</span><span class="k">this</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">a</span><span class="p">}),</span><span class="nx">c</span><span class="p">};</span><span class="kd">var</span> <span class="nx">w</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">b</span><span class="p">){</span><span class="nx">a</span><span class="p">.</span><span class="nx">console</span><span class="o">&amp;&amp;</span><span class="nx">a</span><span class="p">.</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">b</span><span class="p">)};</span><span class="nx">b</span><span class="p">.</span><span class="nx">fn</span><span class="p">.</span><span class="nx">isotope</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">c</span><span class="p">){</span><span class="k">if</span><span class="p">(</span><span class="k">typeof</span> <span class="nx">a</span><span class="o">==</span><span class="s2">&quot;string&quot;</span><span class="p">){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span><span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">c</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;isotope&quot;</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">c</span><span class="p">){</span><span class="nx">w</span><span class="p">(</span><span class="s2">&quot;cannot call methods on isotope prior to initialization; attempted to call method &#39;&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;&#39;&quot;</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">b</span><span class="p">.</span><span class="nx">isFunction</span><span class="p">(</span><span class="nx">c</span><span class="p">[</span><span class="nx">a</span><span class="p">])</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">===</span><span class="s2">&quot;_&quot;</span><span class="p">){</span><span class="nx">w</span><span class="p">(</span><span class="s2">&quot;no such method &#39;&quot;</span><span class="o">+</span><span class="nx">a</span><span class="o">+</span><span class="s2">&quot;&#39; for isotope instance&quot;</span><span class="p">);</span><span class="k">return</span><span class="p">}</span><span class="nx">c</span><span class="p">[</span><span class="nx">a</span><span class="p">].</span><span class="nx">apply</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">)})}</span><span class="k">else</span> <span class="k">this</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">d</span><span class="o">=</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;isotope&quot;</span><span class="p">);</span><span class="nx">d</span><span class="o">?</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="nx">a</span><span class="p">),</span><span class="nx">d</span><span class="p">.</span><span class="nx">_init</span><span class="p">(</span><span class="nx">c</span><span class="p">))</span><span class="o">:</span><span class="nx">b</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="k">this</span><span class="p">,</span><span class="s2">&quot;isotope&quot;</span><span class="p">,</span><span class="k">new</span> <span class="nx">b</span><span class="p">.</span><span class="nx">Isotope</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="k">this</span><span class="p">,</span><span class="nx">c</span><span class="p">))});</span><span class="k">return</span> <span class="k">this</span><span class="p">}})(</span><span class="nb">window</span><span class="p">,</span><span class="nx">jQuery</span><span class="p">);</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
